<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fiche d'Accueil Sécurité</title>
    <link rel="stylesheet" href="global.css">
    <style>
    </style>
</head>

<body>

    <div class="container">
        <img class="logo" src="CDES_Logo.png" alt="">
        <h1> Fiche d'Accueil Sécurité </h1>
    </div>
    <div id="page3" style="padding-left: 20px;">
        <div>
         <table>
            <thead>
                <tr>
                <th>
                    FOURNITURE EQUIPEMENTS DE TRAVAIL 
                </th>
                </tr>
            </thead>
            <tbody>
                <tr class="red-text">
                <td>
                    ➔ Equipements de Protection Individuelle : Le collaborateur est-il équipé des EPI requis pour prendre son poste ?
                    </td>
                </tr>
            </tbody>
            </table>
            <table class="table-check ">
                <tr>
                    <th>
                        EPI et Vêtements de Travail
                    </th>
                    <th>Oui</th>
                    <th>Non</th>
                    <th>Non nécessaire</th>
                </tr>
                <tr>
                    <td>Gilet de sauvetage</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Chaussures de sécurité <span style="font-weight: bold;">Montantes</span></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Bottes de sécurité</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Casque de protection</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Protection contre le bruit</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Gants de protection adaptés</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                                <tr>
                    <td>Vêtements de travail Haute Visibilité</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Vêtements de Pluie</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
            </table>
        </div>
        <div class="other-equipments-hse">
           <h4> ➔ Autres équipements HSE : </h4>
        </div>
        <div>
                        <table class="table-check ">
                <tr>
                    <th>
                        EPI et Vêtements de Travail HSE
                    </th>
                    <th>Oui</th>
                    <th>Non</th>
                    <th>Non nécessaire</th>
                </tr>
                <tr>
                    <td>Trousse de Secours</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Passerelle de chantier</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Lampe frontale</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Bac de rétention souple</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
                <tr>
                    <td>Caisse de stockage des DIS</td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                    <td><input type="checkbox"></td>
                </tr>
            </table>
        </div>
        <div class="other-equipments">
        <h4> Autres équipements fournis au collaborateur nécessaires à son activité :</h4>
        <textarea></textarea>
        </div>
    </div>
    <button class="next-button" onclick="redirectToAutorisationPage()">Suivant</button>

</body>
<script>

    function savePageContent() {
        const page = document.querySelector('#page3');
        const inputs = page.querySelectorAll('input, textarea, select');
        inputs.forEach(input => {
            if (input.type === 'checkbox' || input.type === 'radio') {
                if (input.checked) {
                    input.setAttribute('checked', 'checked');
                } else {
                    input.removeAttribute('checked');
                }
            } else {
                input.setAttribute('value', input.value);
            }
        });
        localStorage.setItem('page3Content', document.querySelector('#page3').outerHTML);
    }

    function loadPageContent() {
        // Restaurer le contenu HTML de la page avec les valeurs des champs
        const savedContent = localStorage.getItem('page3Content');
        if (savedContent) {
            document.querySelector('#page3').outerHTML = savedContent;
        }
    }

    function redirectToAutorisationPage() {
        savePageContent();
        window.location.href = 'risk.html';
    }

    window.onload = function () {
        loadPageContent();
    }

    window.onbeforeunload = function () {
        savePageContent();
    }
</script>

</html>